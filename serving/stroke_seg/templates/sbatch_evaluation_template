#!/bin/bash
## resource allocation

#SBATCH --chdir=/home/veeliad/work/BrainSegmentation/images

#SBATCH --ntasks=1
#SBATCH --cpus-per-task=8
#SBATCH --mem=64g
#SBATCH --gres=gpu:a100:1
#SBATCH --qos=gpu

#SBATCH --job-name={model_name}-{timestamp}-evaluation
#SBATCH --output=%x-%j.out  # %x => job-name, %j => jobid
#SBATCH --error=%x-%j.err


## run time
singularity run --fakeroot --overlay TEST/overlay --nv --env device=cuda --env configurations={configurations} --env task_number={task_number} --env evaluation_path={evaluation_path} --pwd /stroke_segmentation --mount type=bind,source={model_path},destination=/stroke_segmentation/nnunet_results --mount type=bind,source={output_path},destination=/stroke_segmentation/evaluation_results evaluation_big_lesions.sif


